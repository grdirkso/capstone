(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{NZHa:function(l,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return r});var t=n("8Y7J"),a=(n("IL0X"),n("SVse")),u=t["\u0275crt"]({encapsulation:2,styles:[],data:{}});function i(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"div",[["aria-live","polite"],["class","ui-message ui-widget ui-corner-all"]],null,null,null,null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{"ui-message-info":0,"ui-message-warn":1,"ui-message-error":2,"ui-message-success":3}),(l()(),t["\u0275eld"](4,0,null,null,2,"span",[["class","ui-message-icon"]],null,null,null,null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](6,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),t["\u0275eld"](7,0,null,null,0,"span",[["class","ui-message-text"]],[[8,"innerHTML",1]],null,null,null,null))],function(l,e){var n=e.component,t=l(e,3,0,"info"===n.severity,"warn"===n.severity,"error"===n.severity,"success"===n.severity);l(e,2,0,"ui-message ui-widget ui-corner-all",t),l(e,6,0,"ui-message-icon",n.icon)},function(l,e){l(e,7,0,e.component.text)})}function r(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,i)),t["\u0275did"](1,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){l(e,1,0,e.component.severity)},null)}},UN83:function(l,e,n){"use strict";n.r(e),n.d(e,"TeamManagementModuleNgFactory",function(){return Ye});var t=n("8Y7J");class a{}var u=n("pMnS"),i=n("Ge8E"),r=n("EjV3"),s=n("l0Io"),o=n("+/Zv"),d=n("oygf"),m=n("JRTY"),c=n("HOgs"),p=n("iInd"),h=n("SVse"),g=n("GmAV"),f=n("GiHW"),v=n("5cJN"),b=n("1G5W"),y=n("eIep"),C=n("lJxs"),T=n("XNiG"),S=(n("24Yq"),n("JpSQ")),M=n("F5nt"),I=n("u7HH"),R=n("4Vzq"),D=n("DQLy");const N=Object(D.B)("teamManagementState"),w=Object(D.D)(N,l=>l.panelOpen),F=Object(D.D)(N,l=>l.selectedTeam),O=Object(D.D)(N,l=>l.error),x=Object(D.D)(N,l=>l.loading);var E=function(l){return l.OpenRightPanel="[Right Panel] Open",l.CloseRightPanel="[Right Panel] Close",l.LoadSelectedTeam="[Team] Load Team",l.ClearSelectedTeam="[Team] Clear Team",l.LoadSuccess="[Team] Load Success",l.LoadFail="[Team] Load Fail",l}({});class P{constructor(){this.type=E.CloseRightPanel}}class L{constructor(){this.type=E.OpenRightPanel}}class k{constructor(l){this.payload=l,this.type=E.LoadSelectedTeam}}class A{constructor(){this.type=E.ClearSelectedTeam}}class _{constructor(l){this.payload=l,this.type=E.LoadSuccess}}class V{constructor(l){this.payload=l,this.type=E.LoadFail}}class j extends g.b{constructor(l,e,n,t,a){super(l,e,n,t,a),this.suggestWithKeys=[],this.selectedKeys=[],this.selectedWithKeys=[]}get suggestionSubject(){return this.search$.pipe(Object(y.a)(l=>this.searchMethod(l)),Object(C.a)(l=>(this.suggestWithKeys=l,(l=l.map(l=>l.name)).filter((l,e,n)=>n.indexOf(l)===e))))}reset(){this.model=[],this.searchText=null,this.suggestWithKeys=[],this.selectedKeys=[],this.selectedWithKeys=[],this.selectedSearches=[]}searchSelected(l,e,n){let t=!1;this.suggestWithKeys.length>0&&(this.selectedSearches.includes(l)||(this.selectedSearches.push(l),this.selectedWithKeys.push(this.suggestWithKeys.find(e=>e.name===l)),t=!0),this.model.includes(l)||(this.model.push(l),t=!0),this.buildModel(),this.searchText=null,n.inputEL.nativeElement.value=null,n.value=null,t&&(this.model=[].concat(this.model),e.emit(this)))}buildModel(){this.selectedKeys=this.selectedWithKeys.filter(l=>this.model.includes(l.name)).map(l=>l.id),this.selectedKeys=this.removeDuplicates(this.selectedKeys)}optionChecked(){this.buildModel()}removeDuplicates(l){return l.filter((l,e,n)=>e===n.indexOf(l))}}var B=n("Ow1g");class ${constructor(l,e,n,t,a,u,i,r,s,o){this.teamManagementService=l,this.taskManagementService=e,this.cd=n,this.userService=t,this.messageService=a,this.confirmationService=u,this.appService=i,this.route=r,this.router=s,this.store=o,this.columns=[{field:"teamName",header:"Name",sortable:!0},{field:"taskCategory",header:"Task Category"},{field:"teamLeader",header:"Team Leader"},{field:"createdBy",header:"Created By"},{field:"updatedBy",header:"Last Updated By"},{field:"lastUpdateTimestamp",header:"Last Updated",sortable:!0},{field:"numberOfMembers",header:"Members",sortable:!0},{field:"status",header:"Status"}],this.teamLeaders=[],this.employees=[],this.createdByFilterValues=[],this.lastUpdatedByFilterValues=[],this.filterOptions=[],this.destroyed$=new T.a,this.tableSize=25,this.buttons=[],this.overflowMenu=[],this.selectedTeamManagement=[],this.sortingState={sortKey:"lastUpdateTimestamp",sortOrder:"desc"},this.templateName="Detail",this.hideLeftPanel=!1,this.loading=!0,this.addNewTeam=(()=>{this.router.navigate(["add/"],{relativeTo:this.route})}),this.inactivateSelectedTeams=(()=>{if(this.selectedTeamManagement.length<=0)return void this.messageService.add({severity:"info",summary:"Nothing Selected",detail:"You must select at least one Team for removal"});const l=this.selectedTeamManagement.length>1,e=()=>{const e=[];for(const l of this.selectedTeamManagement)e.push(this.teamManagementService.inactivateTeam(l.teamID));e.map(e=>{e.subscribe(e=>{this.sharedDataPanel.table.reset(),this.sharedDataPanel.table.first=0,this.sharedDataPanel.firstRow=0,this.messageService.add({severity:"success",summary:(l?"Teams":"Team")+" Inactivated",detail:e.body[0].teamName+(l?" teams have":" team has")+" has been inactivated."}),this.selectedTeamManagement=[],this.onSearch$.next(this.mostRecentSearch)},l=>this.messageService.add({severity:"error",summary:"Failed to Inactivate",detail:this.getErrorMessage(l)}))}),this.sharedDataPanel.table.reset(),this.sharedDataPanel.table.first=0,this.sharedDataPanel.firstRow=0,this.selectedTeamManagement=[],this.onSearch$.next(this.mostRecentSearch)};this.confirmationService.confirm({message:"This will Inactivate "+this.selectedTeamManagement.length+" "+(l?"teams":"team")+". Are you sure?",accept:()=>e(),reject:()=>{}})}),this.rightPanelHelper=new I.a,this.userService.isUserInRoles(B.e.ADMIN,B.j.CREATE_TEAMS)&&(this.checkboxConfig={checkboxCallback:l=>{this.selectedTeamManagement=l},hasAccess:!0},this.buttons.push({label:"Add Team",style:"ui-button-primary",click:this.addNewTeam}),this.overflowMenu.push({label:"Inactivate Selected Team",command:this.inactivateSelectedTeams})),this.overflowMenu.push({label:"Export to Excel"}),this.router.events.subscribe(l=>{l instanceof p.NavigationEnd&&"/team-management"===l.url&&this.store.dispatch(new P)}),this.store.pipe(Object(D.E)(w)).subscribe(l=>{l?this.rightPanelHelper.setOpen():this.rightPanelHelper.setClosed()})}ngOnInit(){this.hideLeftPanel=!1,this.fullScreen=!1,this.filters=this.buildFilters(),this.activeFilters=[this.filters.find(l=>"Status"===l.name)],this.loading=!0,this.teamManagementService.searchForTeams("",0,this.tableSize,this.sortingState,this.activeFilters,this.teamLeaders,this.employees,this.createdByFilterValues,this.lastUpdatedByFilterValues).pipe(Object(b.a)(this.destroyed$)).subscribe(l=>{this.teamList=l.teams,this.totalRecords=l.hitCount,this.buildSearchSubject(),this.setBreadcrumbs(),this.loading=!1},l=>{this.loading=!1}),this.loading=!0,this.teamManagementService.onTableReset$.subscribe(l=>{l&&(this.teamManagementService.searchForTeams(this.mostRecentSearch,0,this.sharedDataPanel.table.rows,this.sortingState,this.activeFilters,this.teamLeaders,this.employees,this.createdByFilterValues,this.lastUpdatedByFilterValues).pipe(Object(b.a)(this.destroyed$)).subscribe(l=>{this.teamList=l.teams,this.totalRecords=l.hitCount,this.loading=!1}),this.pageRowCount=this.sharedDataPanel.table.rows)})}ngAfterViewInit(){this.teamManagementService.getTaskCategoriesForFilter().subscribe(l=>{this.filterOptions=l,this.filters=this.buildFilters(),this.activeFilters=[this.filters.find(l=>"Status"===l.name)]})}onOverFlowMenuSelect(l){this.loading=!0,this.teamManagementService.searchForTeams(this.mostRecentSearch,0,this.totalRecords,this.sortingState,this.activeFilters,this.teamLeaders,this.employees,this.createdByFilterValues,this.lastUpdatedByFilterValues).subscribe(e=>{this.loading=!1;const n=Object.assign({},l);n.exportCSV=l.exportCSV,n.value=e.teams,n.exportCSV()},e=>{l.exportCSV()})}onActivate(l){l.fullscreen&&(this.hideLeftPanel=!0)}onPageChange(l){this.pageRowCount=l.rows,this.teamManagementService.searchForTeams(this.mostRecentSearch,l.page,l.rows,this.sortingState,this.activeFilters,this.teamLeaders,this.employees,this.createdByFilterValues,this.lastUpdatedByFilterValues).pipe(Object(b.a)(this.destroyed$)).subscribe(l=>{this.teamList=l.teams,this.totalRecords=l.hitCount})}onColumnSelect(l){this.filterColumnName=l.columnName,this.resetDataGrid(),this.updateSortingState(l.columnName),this.teamManagementService.searchForTeams(this.mostRecentSearch,0,l.rowsPerPage,this.sortingState,this.activeFilters,this.teamLeaders,this.employees,this.createdByFilterValues,this.lastUpdatedByFilterValues).pipe(Object(b.a)(this.destroyed$)).subscribe(l=>{this.teamList=l.teams,this.totalRecords=l.hitCount})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}setBreadcrumbs(){this.appService.breadcrumbs=[{label:"Team Management",routerLink:"/team-management"}]}resetDataGrid(){this.teamList=null}updateSortingState(l){l===this.sortingState.sortKey&&"asc"===this.sortingState.sortOrder?this.sortingState.sortOrder="desc":this.sortingState={sortKey:l,sortOrder:"asc"}}onSearch(l){this.mostRecentSearch=l,this.onSearch$.next(l)}buildSearchSubject(){let l=[];this.onSearch$=new T.a,this.onSearch$.pipe(Object(y.a)(l=>this.teamManagementService.searchForTeams(this.mostRecentSearch,0,this.pageRowCount,this.sortingState,this.activeFilters,this.teamLeaders,this.employees,this.createdByFilterValues,this.lastUpdatedByFilterValues))).subscribe(e=>{this.teamList=l=e.teams,this.totalRecords=e.hitCount,this.cd.markForCheck()})}onFilter(l){this.activeFilters=l,this.onSearch$.next(this.mostRecentSearch)}buildFilters(){return[this.buildTaskCategoryFilter(),this.buildEmployeeNameFilter(),this.buildTeamLeaderFilter(),this.buildStatusFilter(),this.buildCreatedByFilter(),this.buildLastUpdatedByFilter()]}buildTaskCategoryFilter(){return new j("Task Category","taskGroupName",l=>this.taskManagementService.searchForTaskCategoryForTeams(l.query))}buildEmployeeNameFilter(){return new g.b("Team Member","personDTO.prefName",l=>this.teamManagementService.searchForEmployeeAndTeamLeader(l.query).pipe(Object(C.a)(l=>{this.employees.push(...l);const e=this.employees;return this.employees=Array.from(new Set(e.map(l=>l.emplId))).map(l=>e.find(e=>e.emplId===l)),l.map(l=>l.name)})))}buildTeamLeaderFilter(){return new g.b("Team Leader","personDTO.prefName",l=>this.teamManagementService.searchForEmployeeAndTeamLeader(l.query).pipe(Object(C.a)(l=>{this.teamLeaders.push(...l);const e=this.teamLeaders;return this.teamLeaders=Array.from(new Set(e.map(l=>l.emplId))).map(l=>e.find(e=>e.emplId===l)),l.map(l=>l.name)})))}buildStatusFilter(){return new g.a("Status","expirationTimeStamp","Active",null,[{label:"Active",value:"activeTeamsOnly",indexOf:0},{label:"Inactive",value:"inActiveTeamsOnly",indexOf:1}],["activeTeamsOnly"])}buildCreatedByFilter(){return new g.b("Created By","personDTO.prefName",l=>this.teamManagementService.searchForEmployeeAndTeamLeader(l.query).pipe(Object(C.a)(l=>{this.createdByFilterValues.push(...l);const e=this.createdByFilterValues;return this.createdByFilterValues=Array.from(new Set(e.map(l=>l.emplId))).map(l=>e.find(e=>e.emplId===l)),l.map(l=>l.name)})))}buildLastUpdatedByFilter(){return new g.b("Last Updated By","personDTO.prefName",l=>this.teamManagementService.searchForEmployeeAndTeamLeader(l.query).pipe(Object(C.a)(l=>{this.lastUpdatedByFilterValues.push(...l);const e=this.lastUpdatedByFilterValues;return this.lastUpdatedByFilterValues=Array.from(new Set(e.map(l=>l.emplId))).map(l=>e.find(e=>e.emplId===l)),l.map(l=>l.name)})))}onRowSelect(l){this.selectedTeamID=l.teamID,this.router.navigate([this.selectedTeamID],{relativeTo:this.route})}getErrorMessage(l){let e=l.statusText;if(l.error&&l.error.errors){const n=[];return l.error.errors.forEach(l=>{n.push(l.errorMessage)}),e===l.statusText&&0!==n.length&&(e=n.join(", ")),e}return"Failed to inactivate team"}}var U=t["\u0275crt"]({encapsulation:0,styles:[[".right-header-link[_ngcontent-%COMP%]{line-height:60px}.panel-button[_ngcontent-%COMP%]{margin-left:20px;cursor:pointer;color:#007dba}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.main-block[_ngcontent-%COMP%]{padding-bottom:10px}.right-inner-panel[_ngcontent-%COMP%]{padding-top:10px}shared-detail-panel[_ngcontent-%COMP%]   p-panel[_ngcontent-%COMP%]     .ui-panel{position:relative}.loading-overlay[_ngcontent-%COMP%]{border-radius:6px}p-footer[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]{margin-left:10px}shared-data-panel[_ngcontent-%COMP%]{display:flex;flex:1 0;min-height:0}router-outlet[_ngcontent-%COMP%]{display:flex}"]],data:{}});function q(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","loading-overlay"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"p-progressSpinner",[],null,null,null,i.b,i.a)),t["\u0275did"](2,49152,null,0,r.ProgressSpinner,[],null,null)],null,null)}function G(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["TEAM MANAGEMENT"]))],null,null)}function H(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["TEAM PROFILE"]))],null,null)}function K(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"shared-data-panel",[["panel-title","Teams"]],null,[[null,"onPageChange"],[null,"overFlowMenu"],[null,"onSearch"],[null,"onFilter"],[null,"onRowSelect"],[null,"onColumnSelect"]],function(l,e,n){var t=!0,a=l.component;return"onPageChange"===e&&(t=!1!==a.onPageChange(n)&&t),"overFlowMenu"===e&&(t=!1!==a.onOverFlowMenuSelect(n)&&t),"onSearch"===e&&(t=!1!==a.onSearch(n)&&t),"onFilter"===e&&(t=!1!==a.onFilter(n)&&t),"onRowSelect"===e&&(t=!1!==a.onRowSelect(n)&&t),"onColumnSelect"===e&&(t=!1!==a.onColumnSelect(n)&&t),t},s.b,s.a)),t["\u0275did"](1,638976,[[1,4],["dataPanelRefresh",4]],0,o.a,[d.ConfirmationService],{values:[0,"values"],columns:[1,"columns"],dataPanelTitle:[2,"dataPanelTitle"],totalRecords:[3,"totalRecords"],filters:[4,"filters"],rowsPerPage:[5,"rowsPerPage"],rightPanelHelper:[6,"rightPanelHelper"],activeFilters:[7,"activeFilters"],buttons:[8,"buttons"],checkboxConfig:[9,"checkboxConfig"],overflowMenu:[10,"overflowMenu"]},{rowSelectedHandler:"onRowSelect",columnSelectedHandler:"onColumnSelect",pageChangeHandler:"onPageChange",overFlowMenuHandler:"overFlowMenu",searchChangeHandler:"onSearch",filterChangeHandler:"onFilter"}),(l()(),t["\u0275eld"](2,0,null,0,3,"shared-detail-panel",[],null,null,null,m.b,m.a)),t["\u0275did"](3,114688,null,0,c.a,[],null,null),(l()(),t["\u0275eld"](4,16777216,null,0,1,"router-outlet",[],null,[[null,"activate"]],function(l,e,n){var t=!0;return"activate"===e&&(t=!1!==l.component.onActivate(n)&&t),t},null,null)),t["\u0275did"](5,212992,null,0,p.RouterOutlet,[p.ChildrenOutletContexts,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,{activateEvents:"activate"})],function(l,e){var n=e.component;l(e,1,1,[n.teamList,n.columns,"Teams",n.totalRecords,n.filters,n.tableSize,n.rightPanelHelper,n.activeFilters,n.buttons,n.checkboxConfig,n.overflowMenu]),l(e,3,0),l(e,5,0)},null)}function z(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,16777216,null,null,1,"router-outlet",[],null,[[null,"activate"]],function(l,e,n){var t=!0;return"activate"===e&&(t=!1!==l.component.onActivate(n)&&t),t},null,null)),t["\u0275did"](2,212992,null,0,p.RouterOutlet,[p.ChildrenOutletContexts,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,{activateEvents:"activate"})],function(l,e){l(e,2,0)},null)}function W(l){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{sharedDataPanel:0}),(l()(),t["\u0275and"](16777216,null,null,1,null,q)),t["\u0275did"](2,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](3,0,null,null,8,"div",[["class","container"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,G)),t["\u0275did"](5,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,H)),t["\u0275did"](7,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,K)),t["\u0275did"](9,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,z)),t["\u0275did"](11,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,2,0,n.loading),l(e,5,0,!n.hideLeftPanel),l(e,7,0,n.hideLeftPanel),l(e,9,0,!n.hideLeftPanel),l(e,11,0,n.hideLeftPanel)},null)}function J(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"admin-team-management",[],null,null,null,W,U)),t["\u0275did"](1,4440064,null,0,$,[f.a,v.a,t.ChangeDetectorRef,S.a,R.MessageService,d.ConfirmationService,M.a,p.ActivatedRoute,p.Router,D.n],null,null)],function(l,e){l(e,1,0)},null)}var X=t["\u0275ccf"]("admin-team-management",$,J,{},{},[]),Y=n("NZHa"),Z=n("IL0X"),Q=n("2SQN"),ll=n("h5lK"),el=n("s7LF"),nl=n("Czxz"),tl=n("RXyF"),al=n("7LN8"),ul=n("WW0F"),il=n("VSng"),rl=n("qtlX"),sl=n("fBTL"),ol=n("SVXH"),dl=n("Fa87"),ml=n("wJvS"),cl=n("KDpk"),pl=n("efsM");class hl{constructor(l,e,n,t,a,u,i,r){this.teamManagementService=l,this.employeesService=e,this.fb=n,this.route=t,this.router=a,this.confirmationService=u,this.messageService=i,this.store=r,this.removedTeamMembers=[],this.currentEmplIds=[],this.teamForm=this.fb.group({teamName:["",[el.Validators.required,el.Validators.maxLength(120)]],teamLeader:["",[el.Validators.required]],teamMemberList:this.fb.array([],[el.Validators.minLength(2)])})}ngOnInit(){this.loading$=this.store.pipe(Object(D.E)(x)).subscribe(l=>{this.loading=l}),this.buildFilteredSearchSubject(),this.buildSearchSubject(),this.store.dispatch(new L),this.route.params.subscribe(l=>{l.id&&(this.mode="edit",this.teamId=l.id)}),this.inEdit()&&(this.selectedTeam$=this.store.pipe(Object(D.E)(F)).subscribe(l=>{l&&l.teamID===this.teamId.toString()?(this.team=l,this.populateFormData(l)):this.store.dispatch(new k(this.teamId.toString()))}))}ngOnDestroy(){this.selectedTeam$&&this.selectedTeam$.unsubscribe()}buildFilteredSearchSubject(){this.onFilteredSearch$=new T.a,this.onFilteredSearch$.pipe(Object(y.a)(l=>this.employeesService.searchForUsers(l))).subscribe(l=>{this.filteredEmployeeSuggestions=this.makeSuggestions(l.employees).filter(l=>!this.currentEmplIds.includes(+l.emplId))})}buildSearchSubject(){this.onSearch$=new T.a,this.onSearch$.pipe(Object(y.a)(l=>this.employeesService.searchForUsers(l))).subscribe(l=>{this.employeeSuggestions=this.makeSuggestions(l.employees)})}makeSuggestions(l){return l.map(l=>this.mapToTeamMemberEntry(l))}onFilteredSearch(l){this.filteredEmployeeSuggestions=[],this.onFilteredSearch$.next(l.query)}onSearch(l){this.employeeSuggestions=[],this.onSearch$.next(l.query)}get teamMemberListToArray(){return this.teamForm.get("teamMemberList")}addMember(l){const e=this.fb.group({memberInfo:[l||"",el.Validators.required]});this.teamMemberListToArray.insert(0,e),l&&this.currentEmplIds.push(+l.emplId)}removeMember(l){this.teamForm.markAsDirty(),this.teamForm.markAsTouched();const e=this.teamForm.get("teamLeader"),n=this.teamMemberListToArray.at(l).value.memberInfo;if(n&&e&&e.value&&e.value.emplId===n.emplId)e.reset(),e.markAsTouched(),e.markAsDirty(),this.teamMemberListToArray.removeAt(l),this.currentEmplIds.splice(l,1);else if(n&&this.team&&this.team.teamMembers&&this.team.teamMembers.filter(l=>l.personEmployeeID===n.emplId).length>0){const e=this.team.taskList.filter(l=>l.personEmployeeID===n.emplId);e.length>0&&e.find(l=>this.team.taskList.filter(e=>e.taskAssignmentID===l.taskAssignmentID&&e.roleTypeCode===l.roleTypeCode).length<=1)?this.confirmationService.confirm({message:"This user is assigned to active tasks assignments for this team,  Please reassign the tasks assignments and then remove them from the team.  If you Continue the tasks assignments will be reassigned to the entire Team<br><br> Continue?",header:"Warning Message",accept:()=>{this.removeTeamMember(l)},reject:()=>{}}):this.removeTeamMember(l)}else this.removeTeamMember(l)}removeTeamMember(l){this.removedTeamMembers.push(this.teamMemberListToArray.at(l).value),this.teamMemberListToArray.removeAt(l),this.currentEmplIds.splice(l,1)}teamMemberSelected(l){this.removedTeamMembers=this.removedTeamMembers.filter(e=>e.emplId===l.emplId),this.currentEmplIds.push(l.emplId)}changeLeader(){const l=this.teamMemberListToArray.length,e=this.fb.group({memberInfo:this.cloneControl(this.teamForm.get("teamLeader"))});this.isDuplicateMember(e)||(this.teamMemberListToArray.push(e),this.currentEmplIds.push(e.value.memberInfo.emplId)),0===l&&this.addMember()}getFormValidationErrors(){const l=[];return Object.keys(this.teamForm.controls).forEach(e=>{const n=this.teamForm.get(e).errors;null!=n&&Object.keys(n).forEach(n=>{l.push({field:e,error:n})})}),this.teamMemberListToArray.invalid&&l.push({field:"teamMemberList",error:"required"}),l}onSave(){let l;this.teamForm.touched&&this.teamForm.valid?(this.loading=!0,l=this.mapFormToTeam(),this.inEdit()&&this.addRemovedTeamMembers(l),this.teamManagementService.saveTeam(l,this.inEdit()).subscribe(e=>{this.teamManagementService.resetTable(!0),this.messageService.add({severity:"success",summary:"Team Saved",detail:"You have "+(this.inEdit()?"updated ":"created ")+"the "+l.teamName+" Team."}),this.teamForm.markAsPristine(),this.onClose()},l=>{this.handleHttpError(l),this.loading=!1},()=>{this.loading=!1})):this.generateInvalidFormErrorMessage()}onClose(){this.inEdit()?this.router.navigate(["../../"],{relativeTo:this.route}):this.router.navigate(["../"],{relativeTo:this.route})}onAutocompleteClear(l,e){this.teamForm.get(l).markAsTouched(),this.teamForm.get(l).setValue(null),e.value=null,e.inputFieldValue=null}onInactivate(){this.confirmationService.confirm({message:(this.teamForm.dirty?"This function will inactivate the team and any unsaved changes will be lost. ":"This function will inactivate the team. ")+"Do you wish to proceed?",accept:()=>{this.teamManagementService.inactivateTeam(this.team.teamID).subscribe(()=>{this.messageService.add({severity:"success",summary:"Inactivated",detail:"Team inactivated successfully."}),this.teamManagementService.resetTable(!0),this.teamForm.reset(),this.onClose()},l=>{this.handleHttpError(l)})}})}onViewProfile(){this.router.navigate(["../","profile"],{relativeTo:this.route})}canDeactivate(){if(!this.teamForm.dirty)return this.teamForm.reset(),!0;this.confirmationService.confirm({message:"Any changes will be lost, do you want to continue?",accept:()=>(this.teamForm.reset(),this.onClose(),!0)})}handleHttpError(l){let e=l.statusText;if(l.error&&l.error.errors){const n=[];l.error.errors.forEach(l=>(-1!==l.errorMessage.indexOf("SQL")&&(e="Team cannot be saved to the database."),n.push(l.errorMessage))),n.length&&(e=n.join(", "))}else e="Team service is currently unavailable";this.messageService.add({severity:"error",summary:"Error Saving Team",detail:"Error "+(this.inEdit()?"updating ":"creating ")+"team: "+e})}generateInvalidFormErrorMessage(){this.messageService.add(this.teamForm.pristine?{severity:"info",summary:"No Changes",detail:"Nothing has been changed that needs saving."}:{severity:"error",summary:"Invalid Form",detail:this.getValidationErrorDetail()})}getValidationErrorDetail(){return this.getFormValidationErrors().map(l=>gl[l.field]+fl[l.error]).join(", ")}isDuplicateMember(l){let e=!1;return this.teamMemberListToArray.value.forEach(n=>{l.value.memberInfo.emplId===n.memberInfo.emplId&&(e=!0)}),e}cloneControl(l){let e;if(l instanceof el.FormGroup){const e=new el.FormGroup({},l.validator,l.asyncValidator),n=l.controls;Object.keys(n).forEach(l=>{e.addControl(l,this.cloneControl(n[l]))})}else l instanceof el.FormControl&&(e=new el.FormControl(l.value,l.validator,l.asyncValidator));return e}isTouchedAndInvalid(l){return this.teamForm.get(l).touched&&this.teamForm.get(l).invalid}inEdit(){return"edit"===this.mode}sortTeamMembersByName(l){return l.teamMembers?(l.teamMembers.sort((l,e)=>l.fullName<e.fullName?1:l.fullName>e.fullName?-1:0),l):l}mapToTeamMemberEntry(l){return{nameAndUsername:`${l.fullName} (${l.userName})`,fullMemberInfo:`${l.fullName} (${l.userName}), ${l.title}`,emplId:l.personEmployeeID}}populateFormData(l){this.sortTeamMembersByName(l),l.teamMembers.forEach(l=>{this.addMember(this.mapToTeamMemberEntry(l))}),this.teamForm.patchValue({teamName:l.teamName,teamLeader:this.findTeamLeaderDetails(l)})}findTeamLeaderDetails(l){return this.teamMemberListToArray.controls.find(e=>e.value.memberInfo.emplId===l.teamLeaderPersonID).value.memberInfo}mapFormToTeam(){return this.inEdit()?{teamID:this.teamId,teamName:this.teamForm.get("teamName").value.trim(),teamLeaderPersonID:this.teamForm.get("teamLeader").value.emplId,teamEffectiveTimestamp:this.team.teamEffectiveTimestamp,teamExpirationTimestamp:this.team.teamExpirationTimestamp,teamPersonDTOs:this.teamMemberListToArray.value.map(l=>this.mapToTeamMemberSaveDTO(l))}:{teamName:this.teamForm.get("teamName").value.trim(),teamLeaderPersonID:this.teamForm.get("teamLeader").value.emplId,teamPersonDTOs:this.teamMemberListToArray.value.map(l=>this.mapToTeamMemberSaveDTO(l))}}addRemovedTeamMembers(l){this.removedTeamMembers.forEach(e=>{const n=this.mapToTeamMemberSaveDTO(e);n.teamAssignmentExpirationTimestamp=Object(pl.a)(),l.teamPersonDTOs.push(n)})}mapToTeamMemberSaveDTO(l){const e=new cl.d;if(this.inEdit()){const n=this.team.teamMembers.find(e=>e.emplid===l.memberInfo.emplId);e.personEmployeeID=n?n.personEmployeeID:l.memberInfo.emplId,e.teamMemberPersonID=n?n.teamMemberPersonID:null,e.teamAssignmentEffectiveTimestamp=n?n.teamAssignmentEffectiveTimestamp:Object(pl.a)(),e.teamAssignmentExpirationTimestamp=n?n.teamAssignmentExpirationTimestamp:"2099-12-31T23:59:59.5959"}else e.personEmployeeID=l.memberInfo.emplId,e.teamMemberName=l.memberInfo.nameAndUsername,e.addedAsLeader=this.isLeader(l.memberInfo.emplId);return e}isLeader(l){return!!this.teamForm.get("teamLeader").value&&this.teamForm.get("teamLeader").value.emplId===l}}var gl=function(l){return l.teamName="Team name",l.teamLeader="Team leader",l.teamMemberList="Team members list",l}({}),fl=function(l){return l.maxlength=" is too long",l.required=" is invalid",l.minlength=" should have at least 2 members",l}({}),vl=t["\u0275crt"]({encapsulation:0,styles:[[".full-width[_ngcontent-%COMP%]{width:100%!important}.link[_ngcontent-%COMP%]{cursor:pointer;font-size:14px}.full-text-input[_ngcontent-%COMP%]{width:100%!important;margin-top:25px}.left-text-input[_ngcontent-%COMP%]{width:100%!important;margin-top:20px;margin-right:25px}i[_ngcontent-%COMP%]{cursor:pointer;color:#007dba}.solid-icon[_ngcontent-%COMP%]{font-size:16px;margin-right:10px}.minus-icon[_ngcontent-%COMP%]{color:red}.plus-icon[_ngcontent-%COMP%]{font-size:10px;margin-right:4px}.member-table[_ngcontent-%COMP%]{margin-top:25px;display:flex;flex:auto;min-height:0;border:.063em}.remove-column[_ngcontent-%COMP%]{border-left:none!important;width:10px!important;text-align:center}.team-name-span[_ngcontent-%COMP%]{padding-right:10px}[_nghost-%COMP%]     .ui-table{box-shadow:none}th[_ngcontent-%COMP%]{font-weight:700;font-size:14px}p-footer[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]{margin-left:10px}.invalid[_ngcontent-%COMP%]{color:#cc2d24!important}  .select-team-member-row:last-child .ui-inputtext{border-bottom-left-radius:6px}p-panel[_ngcontent-%COMP%]     .ui-panel .ui-panel-titlebar{box-shadow:inset 0 0 2px 0 rgba(0,0,0,.2)}p-panel[_ngcontent-%COMP%]     .ui-panel .ui-panel-content-wrapper{overflow-y:auto;overflow-x:hidden;box-shadow:inset 0 0 2px 0 rgba(0,0,0,.2)}"]],data:{}});function bl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"i",[["aria-hidden","true"],["class","icon-User_Group_Solid solid-icon"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onViewProfile()&&t),t},null,null))],null,null)}function yl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","loading-overlay"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"p-progressSpinner",[],null,null,null,i.b,i.a)),t["\u0275did"](2,49152,null,0,r.ProgressSpinner,[],null,null)],null,null)}function Cl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p-message",[["severity","error"],["text","Enter Team Name"]],null,null,null,Y.b,Y.a)),t["\u0275did"](1,49152,null,0,Z.UIMessage,[],{severity:[0,"severity"],text:[1,"text"]},null)],function(l,e){l(e,1,0,"error","Enter Team Name")},null)}function Tl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p-message",[["severity","error"],["text","Team name should be less than 120 characters."]],null,null,null,Y.b,Y.a)),t["\u0275did"](1,49152,null,0,Z.UIMessage,[],{severity:[0,"severity"],text:[1,"text"]},null)],function(l,e){l(e,1,0,"error","Team name should be less than 120 characters.")},null)}function Sl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Cl)),t["\u0275did"](2,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Tl)),t["\u0275did"](4,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,2,0,n.teamForm.get("teamName").errors.required),l(e,4,0,n.teamForm.get("teamName").errors.maxlength)},null)}function Ml(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p-message",[["severity","error"],["text","Enter Team Leader"]],null,null,null,Y.b,Y.a)),t["\u0275did"](1,49152,null,0,Z.UIMessage,[],{severity:[0,"severity"],text:[1,"text"]},null)],function(l,e){l(e,1,0,"error","Enter Team Leader")},null)}function Il(l){return t["\u0275vid"](0,[(l()(),t["\u0275ted"](-1,null,[" Team Members "])),(l()(),t["\u0275eld"](1,0,null,null,3,"span",[["class","pull-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["aria-hidden","true"],["class","icon-Circle_Add_Solid add-icon plus-icon"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"a",[["class","link"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.addMember()&&t),t},null,null)),(l()(),t["\u0275ted"](-1,null,["Add Team Member"]))],null,null)}function Rl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Name"])),(l()(),t["\u0275eld"](3,0,null,null,0,"th",[["class","remove-column"]],null,null,null,null,null))],null,null)}function Dl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"p-autoComplete",[["appendTo","body"],["class","select-team-member-row"],["field","fullMemberInfo"],["formControlName","memberInfo"],["placeholder","Select Team Member"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"completeMethod"],[null,"onSelect"]],function(l,e,n){var t=!0,a=l.component;return"completeMethod"===e&&(t=!1!==a.onFilteredSearch(n)&&t),"onSelect"===e&&(t=!1!==a.teamMemberSelected(n)&&t),t},Q.b,Q.a)),t["\u0275did"](1,9879552,null,1,ll.AutoComplete,[t.ElementRef,t.Renderer2,t.ChangeDetectorRef,t.IterableDiffers],{placeholder:[0,"placeholder"],appendTo:[1,"appendTo"],forceSelection:[2,"forceSelection"],field:[3,"field"],dropdown:[4,"dropdown"],emptyMessage:[5,"emptyMessage"],suggestions:[6,"suggestions"]},{completeMethod:"completeMethod",onSelect:"onSelect"}),t["\u0275qud"](603979776,5,{templates:1}),t["\u0275prd"](1024,null,el.NG_VALUE_ACCESSOR,function(l){return[l]},[ll.AutoComplete]),t["\u0275did"](4,671744,null,0,el.FormControlName,[[3,el.ControlContainer],[8,null],[8,null],[6,el.NG_VALUE_ACCESSOR],[2,el["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,el.NgControl,null,[el.FormControlName]),t["\u0275did"](6,16384,null,0,el.NgControlStatus,[[4,el.NgControl]],null,null)],function(l,e){var n=e.component;l(e,1,0,"Select Team Member","body",!0,"fullMemberInfo",!0,n.filteredEmployeeSuggestions&&n.filteredEmployeeSuggestions.length>0?null:"No Result Found",n.filteredEmployeeSuggestions),l(e,4,0,"memberInfo")},function(l,e){l(e,0,0,t["\u0275nov"](e,1).filled,t["\u0275nov"](e,1).focus&&!t["\u0275nov"](e,1).disabled,t["\u0275nov"](e,6).ngClassUntouched,t["\u0275nov"](e,6).ngClassTouched,t["\u0275nov"](e,6).ngClassPristine,t["\u0275nov"](e,6).ngClassDirty,t["\u0275nov"](e,6).ngClassValid,t["\u0275nov"](e,6).ngClassInvalid,t["\u0275nov"](e,6).ngClassPending)})}function Nl(l){return t["\u0275vid"](0,[(l()(),t["\u0275ted"](0,null,[" "," "])),t["\u0275pad"](1,2)],null,function(l,e){var n=e.component,t=null,a=(null==n.teamMemberListToArray?null:null==(t=n.teamMemberListToArray.get(l(e,1,0,e.parent.context.rowIndex,"memberInfo")))?null:null==t.value?null:t.value.fullMemberInfo)||"Select Team Member";l(e,0,0,a)})}function wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,20,"tr",[["class","ui-fluid"],["style","height:25px; display: flex; justify-content: space-between;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),t["\u0275did"](1,212992,null,0,el.FormGroupName,[[3,el.ControlContainer],[8,null],[8,null]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,el.ControlContainer,null,[el.FormGroupName]),t["\u0275did"](3,16384,null,0,el.NgControlStatusGroup,[[4,el.ControlContainer]],null,null),(l()(),t["\u0275eld"](4,0,null,null,14,"td",[["pEditableColumn",""]],[[8,"title",0]],[[null,"click"],[null,"keydown"]],function(l,e,n){var a=!0;return"click"===e&&(a=!1!==t["\u0275nov"](l,5).onClick(n)&&a),"keydown"===e&&(a=!1!==t["\u0275nov"](l,5).onKeyDown(n)&&a),a},null,null)),t["\u0275did"](5,4210688,null,0,nl.EditableColumn,[nl.Table,t.ElementRef,t.NgZone],{data:[0,"data"]},null),t["\u0275pad"](6,2),(l()(),t["\u0275eld"](7,0,null,null,11,"p-cellEditor",[],null,null,null,tl.e,tl.a)),t["\u0275prd"](512,null,h["\u0275NgClassImpl"],h["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](9,278528,null,0,h.NgClass,[h["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275pad"](10,2),t["\u0275pad"](11,2),t["\u0275pod"](12,{invalid:0}),t["\u0275did"](13,1097728,[["teamMember",4]],1,nl.CellEditor,[nl.Table,[2,nl.EditableColumn],[2,nl.EditableRow]],null,null),t["\u0275qud"](603979776,4,{templates:1}),(l()(),t["\u0275and"](0,null,null,1,null,Dl)),t["\u0275did"](16,16384,[[4,4]],0,al.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](0,null,null,1,null,Nl)),t["\u0275did"](18,16384,[[4,4]],0,al.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275eld"](19,0,null,null,1,"td",[["class","remove-column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,0,"i",[["aria-hidden","true"],["class","icon-Circle_Remove_Solid minus-icon"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.removeMember(l.context.rowIndex)&&t),t},null,null))],function(l,e){var n=e.component;l(e,1,0,e.context.rowIndex),l(e,5,0,"");var t=l(e,12,0,(null==n.teamMemberListToArray?null:n.teamMemberListToArray.get(l(e,10,0,e.context.rowIndex,"memberInfo")).invalid)&&(null==n.teamMemberListToArray?null:n.teamMemberListToArray.get(l(e,11,0,e.context.rowIndex,"memberInfo")).touched));l(e,9,0,t),l(e,16,0,"input"),l(e,18,0,"output")},function(l,e){var n=e.component;l(e,0,0,t["\u0275nov"](e,3).ngClassUntouched,t["\u0275nov"](e,3).ngClassTouched,t["\u0275nov"](e,3).ngClassPristine,t["\u0275nov"](e,3).ngClassDirty,t["\u0275nov"](e,3).ngClassValid,t["\u0275nov"](e,3).ngClassInvalid,t["\u0275nov"](e,3).ngClassPending);var a=null,u=t["\u0275inlineInterpolate"](1,"",(null==n.teamMemberListToArray?null:null==(a=n.teamMemberListToArray.get(l(e,6,0,e.context.rowIndex,"memberInfo")))?null:null==a.value?null:a.value.fullMemberInfo)||"Select Team Member","");l(e,4,0,u)})}function Fl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p-button",[["label","Inactivate Team"],["styleClass","ui-button-secondary"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onInactivate()&&t),t},ul.b,ul.a)),t["\u0275did"](1,49152,null,0,il.Button,[],{label:[0,"label"],styleClass:[1,"styleClass"]},null)],function(l,e){l(e,1,0,"Inactivate Team","ui-button-secondary")},null)}function Ol(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,67,"p-panel",[],null,null,null,rl.b,rl.a)),t["\u0275did"](1,49152,null,1,sl.Panel,[t.ElementRef],null,null),t["\u0275qud"](603979776,1,{footerFacet:0}),(l()(),t["\u0275eld"](3,0,null,0,8,"p-header",[],null,null,null,ol.d,ol.b)),t["\u0275did"](4,49152,null,0,al.Header,[],null,null),(l()(),t["\u0275eld"](5,0,null,0,1,"span",[["class","h2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275eld"](7,0,null,0,4,"div",[["class","pull-right p-grid"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,3,"div",[["class","panel-button"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,bl)),t["\u0275did"](10,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](11,0,null,null,0,"i",[["aria-hidden","true"],["class","icon-Menu_Close"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onClose()&&t),t},null,null)),(l()(),t["\u0275and"](16777216,null,1,1,null,yl)),t["\u0275did"](13,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](14,0,null,1,44,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,e,n){var a=!0;return"submit"===e&&(a=!1!==t["\u0275nov"](l,16).onSubmit(n)&&a),"reset"===e&&(a=!1!==t["\u0275nov"](l,16).onReset()&&a),a},null,null)),t["\u0275did"](15,16384,null,0,el["\u0275angular_packages_forms_forms_z"],[],null,null),t["\u0275did"](16,540672,null,0,el.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,el.ControlContainer,null,[el.FormGroupDirective]),t["\u0275did"](18,16384,null,0,el.NgControlStatusGroup,[[4,el.ControlContainer]],null,null),(l()(),t["\u0275eld"](19,0,null,null,25,"div",[["class","p-grid ui-fluid"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,11,"div",[["class","p-col team-name-span"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,1,"label",[["class","field-label"],["for","teamName"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Team Name"])),(l()(),t["\u0275eld"](23,0,null,null,6,"input",[["class","full-width form-content-input"],["formControlName","teamName"],["name","teamName"],["pInputText",""],["type","text"]],[[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,e,n){var a=!0;return"input"===e&&(a=!1!==t["\u0275nov"](l,24).onInput(n)&&a),"input"===e&&(a=!1!==t["\u0275nov"](l,25)._handleInput(n.target.value)&&a),"blur"===e&&(a=!1!==t["\u0275nov"](l,25).onTouched()&&a),"compositionstart"===e&&(a=!1!==t["\u0275nov"](l,25)._compositionStart()&&a),"compositionend"===e&&(a=!1!==t["\u0275nov"](l,25)._compositionEnd(n.target.value)&&a),a},null,null)),t["\u0275did"](24,278528,null,0,dl.InputText,[t.ElementRef,[2,el.NgModel]],null,null),t["\u0275did"](25,16384,null,0,el.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,el.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,el.NG_VALUE_ACCESSOR,function(l){return[l]},[el.DefaultValueAccessor]),t["\u0275did"](27,671744,null,0,el.FormControlName,[[3,el.ControlContainer],[8,null],[8,null],[6,el.NG_VALUE_ACCESSOR],[2,el["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,el.NgControl,null,[el.FormControlName]),t["\u0275did"](29,16384,null,0,el.NgControlStatus,[[4,el.NgControl]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Sl)),t["\u0275did"](31,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](32,0,null,null,12,"div",[["class","p-col"]],null,null,null,null,null)),(l()(),t["\u0275eld"](33,0,null,null,1,"label",[["class","field-label"],["for","teamLeader"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Team Leader"])),(l()(),t["\u0275eld"](35,0,null,null,7,"p-autoComplete",[["field","nameAndUsername"],["formControlName","teamLeader"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"onSelect"],[null,"onClear"],[null,"completeMethod"]],function(l,e,n){var a=!0,u=l.component;return"onSelect"===e&&(a=!1!==u.changeLeader()&&a),"onClear"===e&&(a=!1!==u.onAutocompleteClear("teamLeader",t["\u0275nov"](l,36))&&a),"completeMethod"===e&&(a=!1!==u.onSearch(n)&&a),a},Q.b,Q.a)),t["\u0275did"](36,9879552,[["teamLeaderAutocomplete",4]],1,ll.AutoComplete,[t.ElementRef,t.Renderer2,t.ChangeDetectorRef,t.IterableDiffers],{style:[0,"style"],forceSelection:[1,"forceSelection"],field:[2,"field"],dropdown:[3,"dropdown"],emptyMessage:[4,"emptyMessage"],suggestions:[5,"suggestions"]},{completeMethod:"completeMethod",onSelect:"onSelect",onClear:"onClear"}),t["\u0275qud"](603979776,2,{templates:1}),t["\u0275pod"](38,{width:0}),t["\u0275prd"](1024,null,el.NG_VALUE_ACCESSOR,function(l){return[l]},[ll.AutoComplete]),t["\u0275did"](40,671744,null,0,el.FormControlName,[[3,el.ControlContainer],[8,null],[8,null],[6,el.NG_VALUE_ACCESSOR],[2,el["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,el.NgControl,null,[el.FormControlName]),t["\u0275did"](42,16384,null,0,el.NgControlStatus,[[4,el.NgControl]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ml)),t["\u0275did"](44,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](45,0,null,null,13,"div",[["class","member-table"]],null,null,null,null,null)),(l()(),t["\u0275eld"](46,0,null,null,12,"p-table",[["formArrayName","teamMemberList"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,tl.h,tl.b)),t["\u0275did"](47,212992,null,0,el.FormArrayName,[[3,el.ControlContainer],[8,null],[8,null]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,el.ControlContainer,null,[el.FormArrayName]),t["\u0275did"](49,16384,null,0,el.NgControlStatusGroup,[[4,el.ControlContainer]],null,null),t["\u0275prd"](512,null,nl.TableService,nl.TableService,[]),t["\u0275did"](51,5488640,null,1,nl.Table,[t.ElementRef,t.NgZone,nl.TableService,t.ChangeDetectorRef],{scrollable:[0,"scrollable"],value:[1,"value"]},null),t["\u0275qud"](603979776,3,{templates:1}),(l()(),t["\u0275and"](0,null,null,1,null,Il)),t["\u0275did"](54,16384,[[3,4]],0,al.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](0,null,null,1,null,Rl)),t["\u0275did"](56,16384,[[3,4]],0,al.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](0,null,null,1,null,wl)),t["\u0275did"](58,16384,[[3,4]],0,al.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275eld"](59,0,null,2,8,"p-footer",[],null,null,null,ol.c,ol.a)),t["\u0275did"](60,49152,[[1,4]],0,al.Footer,[],null,null),(l()(),t["\u0275eld"](61,0,null,0,6,"div",[["class","pull-right p-grid"]],null,null,null,null,null)),(l()(),t["\u0275eld"](62,0,null,null,1,"p-button",[["label","Cancel"],["styleClass","ui-button-tertiary"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onClose()&&t),t},ul.b,ul.a)),t["\u0275did"](63,49152,null,0,il.Button,[],{label:[0,"label"],styleClass:[1,"styleClass"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Fl)),t["\u0275did"](65,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](66,0,null,null,1,"p-button",[["label","Save"],["styleClass","ui-button-primary"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onSave()&&t),t},ul.b,ul.a)),t["\u0275did"](67,49152,null,0,il.Button,[],{label:[0,"label"],styleClass:[1,"styleClass"]},null)],function(l,e){var n=e.component;l(e,10,0,"edit"===n.mode),l(e,13,0,n.loading),l(e,16,0,n.teamForm),l(e,24,0),l(e,27,0,"teamName"),l(e,31,0,n.isTouchedAndInvalid("teamName"));var t=l(e,38,0,"100%");l(e,36,0,t,!0,"nameAndUsername",!0,n.employeeSuggestions&&n.employeeSuggestions.length>0?null:"No Result Found",n.employeeSuggestions),l(e,40,0,"teamLeader"),l(e,44,0,n.isTouchedAndInvalid("teamLeader")),l(e,47,0,"teamMemberList"),l(e,51,0,!0,n.teamMemberListToArray.controls),l(e,54,0,"caption"),l(e,56,0,"header"),l(e,58,0,"body"),l(e,63,0,"Cancel","ui-button-tertiary"),l(e,65,0,"edit"===n.mode),l(e,67,0,"Save","ui-button-primary")},function(l,e){l(e,6,0,"edit"===e.component.mode?"Team Details":"Add Team"),l(e,14,0,t["\u0275nov"](e,18).ngClassUntouched,t["\u0275nov"](e,18).ngClassTouched,t["\u0275nov"](e,18).ngClassPristine,t["\u0275nov"](e,18).ngClassDirty,t["\u0275nov"](e,18).ngClassValid,t["\u0275nov"](e,18).ngClassInvalid,t["\u0275nov"](e,18).ngClassPending),l(e,23,1,[!0,!0,!0,!0,t["\u0275nov"](e,24).filled,t["\u0275nov"](e,29).ngClassUntouched,t["\u0275nov"](e,29).ngClassTouched,t["\u0275nov"](e,29).ngClassPristine,t["\u0275nov"](e,29).ngClassDirty,t["\u0275nov"](e,29).ngClassValid,t["\u0275nov"](e,29).ngClassInvalid,t["\u0275nov"](e,29).ngClassPending]),l(e,35,0,t["\u0275nov"](e,36).filled,t["\u0275nov"](e,36).focus&&!t["\u0275nov"](e,36).disabled,t["\u0275nov"](e,42).ngClassUntouched,t["\u0275nov"](e,42).ngClassTouched,t["\u0275nov"](e,42).ngClassPristine,t["\u0275nov"](e,42).ngClassDirty,t["\u0275nov"](e,42).ngClassValid,t["\u0275nov"](e,42).ngClassInvalid,t["\u0275nov"](e,42).ngClassPending),l(e,46,0,t["\u0275nov"](e,49).ngClassUntouched,t["\u0275nov"](e,49).ngClassTouched,t["\u0275nov"](e,49).ngClassPristine,t["\u0275nov"](e,49).ngClassDirty,t["\u0275nov"](e,49).ngClassValid,t["\u0275nov"](e,49).ngClassInvalid,t["\u0275nov"](e,49).ngClassPending)})}function xl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"team-add-edit",[],null,null,null,Ol,vl)),t["\u0275did"](1,245760,null,0,hl,[f.a,ml.a,el.FormBuilder,p.ActivatedRoute,p.Router,d.ConfirmationService,R.MessageService,D.n],null,null)],function(l,e){l(e,1,0)},null)}var El=t["\u0275ccf"]("team-add-edit",hl,xl,{},{},[]),Pl=n("nP3v"),Ll=n("WwML"),kl=n("cQO+");class Al{constructor(l,e,n,a,u,i,r,s,o){this.teamManagementService=l,this.confirmationService=e,this.userService=n,this.messageService=a,this.appService=u,this.route=i,this.router=r,this.store=s,this.employeeService=o,this.close=new t.EventEmitter,this.edit=new t.EventEmitter,this.fullScreen=new t.EventEmitter,this.buttons=[],this.messages=[],this.messages.push({severity:"info",summary:"Team Created by Match Board Management",detail:"You can only edit the team in the Match Application."}),this.userService.isUserInRoles(B.e.ADMIN,B.j.UPDATE_TEAMS)&&(this.buttons.push({hide:!1,label:"Inactivate Team",style:"ui-button-secondary",click:()=>this.inactivateTeam()}),this.buttons.push({hide:!1,label:"Edit",style:"ui-button-primary",click:()=>this.onEdit()}))}ngOnInit(){this.loading$=this.store.pipe(Object(D.E)(x)).subscribe(l=>{this.loading=l}),this.route.paramMap.subscribe(l=>{this.teamID=l.get("id"),this.templateName=l.get("templateName"),"profile"===this.templateName&&(this.fullScreen.emit(!0),this.setBreadcrumbs(this.teamID,"Profile")),this.loading=!0,this.store.dispatch(new k(this.teamID))}),this.store.dispatch(new L),this.selectedTeam$=this.store.pipe(Object(D.E)(F)).subscribe(l=>{l&&(this.teamDetail=this.sortTeamMembersByName(l),this.matchTeam="match"===this.teamDetail.createProgramName.toLowerCase(),this.employeeService.searchForUsers(this.teamDetail.createdBy).subscribe(l=>{l.employees&&1===l.employees.length&&(this.teamDetail.createdBy=l.employees[0].displayEmployee)}),this.employeeService.searchForUsers(this.teamDetail.updatedBy).subscribe(l=>{l.employees&&1===l.employees.length&&(this.teamDetail.updatedBy=l.employees[0].displayEmployee)}))}),this.store.pipe(Object(D.E)(O)).subscribe(l=>this.teamDetailsError(l))}ngOnDestroy(){this.selectedTeam$.unsubscribe(),this.loading$.unsubscribe()}teamDetailsError(l){l&&this.messageService.add({severity:"error",summary:"Failed to retrieve team details",detail:l})}inactivateTeam(){this.confirmationService.confirm({message:"This function will inactivate the team. Do you want to proceed?",accept:()=>{this.teamManagementService.inactivateTeam(this.teamDetail.teamID).subscribe(l=>{this.messageService.add({severity:"success",summary:"Inactivated",detail:"Team inactivated successfully."}),this.teamManagementService.resetTable(!0),this.onClose(),this.store.dispatch(new k(this.teamID))},l=>{this.messageService.add({severity:"error",summary:"Failed",detail:this.getErrorMessage(l)})})}})}bodyHasNoErrors(l){if(1!==l.length)return!0;const e=l[0];return!(e&&e.teamValidationDTO&&e.teamValidationDTO.errors)}getErrorMessage(l){let e=l.statusText;if(l.error&&l.error.errors){const n=[];return l.error.errors.forEach(l=>{n.push(l.errorMessage)}),e===l.statusText&&0!==n.length&&(e=n.join(", ")),e}return"Failed to inactivate team"}activateTeam(){this.confirmationService.confirm({message:"This function will activate the team. Do you want to proceed?",accept:()=>{this.teamManagementService.activateTeam(this.teamDetail.teamID).subscribe(l=>{200===l.status?(this.messageService.add({severity:"success",summary:"Activated",detail:"Team activated successfully."}),this.teamManagementService.resetTable(!0),this.onClose(),this.store.dispatch(new k(this.teamID))):this.messageService.add({severity:"error",summary:"Failed",detail:"Failed to active team."})},l=>this.messageService.add({severity:"error",summary:"Failed",detail:"Failed to active team."}))}})}onClose(){this.router.navigate(["../"],{relativeTo:this.route}),this.store.dispatch(new A)}canDeactivate(){return!!this.router.url.includes("edit")||(this.store.dispatch(new P),!0)}onEdit(){this.router.navigate(["edit"],{relativeTo:this.route})}goToFullScreen(){this.fullScreen.emit(!0),this.setBreadcrumbs(this.teamID,"Profile"),this.router.navigate(["../",this.teamID,"profile"],{relativeTo:this.route})}setBreadcrumbs(l,e){const n=[{label:"Team Management",routerLink:"/team-management/"+l}];l&&"Profile"===e&&n.push({label:"Team Profile",routerLink:"/team-management/"+l+"/profile"}),this.appService.breadcrumbs=n}onRowSelect(l){this.router.navigateByUrl("/employees/"+l)}onTaskSelect(l){this.router.navigateByUrl(`/taskmanagement/${l}`)}sortTeamMembersByName(l){return l.teamMembers?(l.teamMembers.sort((l,e)=>l.fullName<e.fullName?-1:l.fullName>e.fullName?1:0),l):l}}var _l=t["\u0275crt"]({encapsulation:0,styles:[["p-footer[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]{margin-left:10px}.cancel-button[_ngcontent-%COMP%]     button{min-width:initial;padding-right:0}.link[_ngcontent-%COMP%]{cursor:pointer}.field-label[_ngcontent-%COMP%]{margin-right:5px;margin-left:0;margin-bottom:unset;margin-top:3px}.row[_ngcontent-%COMP%]{margin-top:5px}.panel-button[_ngcontent-%COMP%]{margin-left:20px;cursor:pointer;color:#007dba}.user-image[_ngcontent-%COMP%]{float:left;width:77px;height:77px;border-radius:50%;margin:0 10px 10px 0}.headers[_ngcontent-%COMP%]{font-weight:700!important}.data-table[_ngcontent-%COMP%]{margin-top:25px;display:flex;flex:1 0;min-height:0}[_nghost-%COMP%]     .ui-table{box-shadow:none;overflow:auto}.table-underline[_ngcontent-%COMP%]{margin-bottom:1px;opacity:.2;margin-top:20px}p[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}p-panel[_ngcontent-%COMP%]     .ui-panel .ui-panel-titlebar{box-shadow:inset 0 0 2px 0 rgba(0,0,0,.2)}p-panel[_ngcontent-%COMP%]     .ui-panel .ui-panel-content-wrapper{overflow-y:auto;overflow-x:hidden;width:100%;box-shadow:inset 0 0 2px 0 rgba(0,0,0,.2)}"]],data:{}});function Vl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","h2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Team Details"]))],null,null)}function jl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","h2"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Team Profile"]))],null,null)}function Bl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","loading-overlay"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"p-progressSpinner",[],null,null,null,i.b,i.a)),t["\u0275did"](2,49152,null,0,r.ProgressSpinner,[],null,null)],null,null)}function $l(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Ul(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p-button",[],null,[[null,"onClick"]],function(l,e,n){var t=!0;return"onClick"===e&&(t=!1!==l.parent.context.$implicit.click(n)&&t),t},ul.b,ul.a)),t["\u0275did"](1,49152,null,0,il.Button,[],{label:[0,"label"],styleClass:[1,"styleClass"]},{onClick:"onClick"})],function(l,e){l(e,1,0,t["\u0275inlineInterpolate"](1,"",e.parent.context.$implicit.label,""),t["\u0275inlineInterpolate"](1,"",e.parent.context.$implicit.style,""))},null)}function ql(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ul)),t["\u0275did"](2,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,e){l(e,2,0,!e.context.$implicit.hide&&!e.component.matchTeam)},null)}function Gl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ql)),t["\u0275did"](2,278528,null,0,h.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,e){l(e,2,0,e.component.buttons)},null)}function Hl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p-button",[["label","Activate Team"],["styleClass","ui-button-primary"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.activateTeam()&&t),t},ul.b,ul.a)),t["\u0275did"](1,49152,null,0,il.Button,[],{label:[0,"label"],styleClass:[1,"styleClass"]},null)],function(l,e){l(e,1,0,"Activate Team","ui-button-primary")},null)}function Kl(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,Hl)),t["\u0275did"](1,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,e){l(e,1,0,!e.component.matchTeam)},null)}function zl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,32,"p-panel",[],null,null,null,rl.b,rl.a)),t["\u0275did"](1,49152,null,1,sl.Panel,[t.ElementRef],null,null),t["\u0275qud"](603979776,1,{footerFacet:0}),(l()(),t["\u0275eld"](3,0,null,0,10,"p-header",[],null,null,null,ol.d,ol.b)),t["\u0275did"](4,49152,null,0,al.Header,[],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,Vl)),t["\u0275did"](6,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,jl)),t["\u0275did"](8,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](9,0,null,0,4,"div",[["class","pull-right p-grid"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"div",[["class","panel-button"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.goToFullScreen()&&t),t},null,null)),(l()(),t["\u0275eld"](11,0,null,null,0,"i",[["class","icon-User_Group_Solid"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,1,"div",[["class","panel-button"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onClose()&&t),t},null,null)),(l()(),t["\u0275eld"](13,0,null,null,0,"i",[["class","icon-Menu_Close"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,1,1,null,Bl)),t["\u0275did"](15,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,1,1,null,$l)),t["\u0275did"](17,540672,null,0,h.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(l()(),t["\u0275eld"](18,0,null,2,14,"p-footer",[],null,null,null,ol.c,ol.a)),t["\u0275did"](19,49152,[[1,4]],0,al.Footer,[],null,null),(l()(),t["\u0275eld"](20,0,null,0,12,"div",[["class","pull-right p-grid"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,8,"div",[],null,null,null,null,null)),t["\u0275prd"](512,null,h["\u0275NgClassImpl"],h["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](23,278528,null,0,h.NgClass,[h["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275pod"](24,{"cancel-button":0}),(l()(),t["\u0275eld"](25,0,null,null,4,"button",[["label","Cancel"],["pButton",""]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onClose()&&t),t},null,null)),t["\u0275prd"](512,null,h["\u0275NgClassImpl"],h["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](27,278528,null,0,h.NgClass,[h["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275pod"](28,{"ui-button-secondary":0,"ui-button-tertiary":1}),t["\u0275did"](29,4341760,null,0,il.ButtonDirective,[t.ElementRef],{label:[0,"label"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Gl)),t["\u0275did"](31,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t["\u0275and"](0,[["activate",2]],null,0,null,Kl))],function(l,e){var n=e.component;l(e,6,0,"profile"!==n.templateName),l(e,8,0,"profile"===n.templateName),l(e,15,0,n.loading),l(e,17,0,t["\u0275nov"](e.parent,3));var a=l(e,24,0,!n.matchTeam);l(e,23,0,a);var u=l(e,28,0,n.matchTeam,!n.matchTeam);l(e,27,0,u),l(e,29,0,"Cancel"),l(e,31,0,"Active"===(null==n.teamDetail?null:n.teamDetail.teamStatus),t["\u0275nov"](e,32))},null)}function Wl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p-messages",[],null,[[null,"valueChange"]],function(l,e,n){var t=!0;return"valueChange"===e&&(t=!1!==(l.component.messages=n)&&t),t},Pl.b,Pl.a)),t["\u0275did"](1,245760,null,0,Ll.Messages,[[2,R.MessageService]],{value:[0,"value"],closable:[1,"closable"]},{valueChange:"valueChange"})],function(l,e){l(e,1,0,e.component.messages,!1)},null)}function Jl(l){return t["\u0275vid"](0,[(l()(),t["\u0275ted"](-1,null,[" Team Members "]))],null,null)}function Xl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Name"]))],null,null)}function Yl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,[""," (","), ",""]))],null,function(l,e){l(e,2,0,e.context.$implicit.fullName,e.context.$implicit.userName,e.context.$implicit.title)})}function Zl(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Wl)),t["\u0275did"](2,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](3,0,null,null,32,"div",[["class","p-grid"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,12,"div",[["class","p-col jds-ml-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,1,"span",[["class","field-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Team Name"])),(l()(),t["\u0275eld"](7,0,null,null,1,"span",[["class","field-value"]],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,["",""])),(l()(),t["\u0275eld"](9,0,null,null,1,"span",[["class","field-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Team Leader"])),(l()(),t["\u0275eld"](11,0,null,null,1,"span",[["class","field-value"]],null,null,null,null,null)),(l()(),t["\u0275ted"](12,null,[""," (","), ",""])),(l()(),t["\u0275eld"](13,0,null,null,1,"span",[["class","field-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Team Status"])),(l()(),t["\u0275eld"](15,0,null,null,1,"span",[["class","field-value"]],null,null,null,null,null)),(l()(),t["\u0275ted"](16,null,["",""])),(l()(),t["\u0275eld"](17,0,null,null,18,"div",[["class","p-col"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,1,"span",[["class","field-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Updated On"])),(l()(),t["\u0275eld"](20,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](21,null,["",""])),t["\u0275ppd"](22,1),(l()(),t["\u0275eld"](23,0,null,null,1,"span",[["class","field-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Updated By"])),(l()(),t["\u0275eld"](25,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](26,null,["",""])),(l()(),t["\u0275eld"](27,0,null,null,1,"span",[["class","field-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Created On"])),(l()(),t["\u0275eld"](29,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](30,null,["",""])),t["\u0275ppd"](31,1),(l()(),t["\u0275eld"](32,0,null,null,1,"span",[["class","field-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Created By"])),(l()(),t["\u0275eld"](34,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](35,null,["",""])),(l()(),t["\u0275eld"](36,0,null,null,10,"div",[["class","data-table"]],null,null,null,null,null)),(l()(),t["\u0275eld"](37,0,null,null,9,"p-table",[],null,null,null,tl.h,tl.b)),t["\u0275prd"](512,null,nl.TableService,nl.TableService,[]),t["\u0275did"](39,5488640,null,1,nl.Table,[t.ElementRef,t.NgZone,nl.TableService,t.ChangeDetectorRef],{scrollable:[0,"scrollable"],responsive:[1,"responsive"],value:[2,"value"]},null),t["\u0275qud"](603979776,2,{templates:1}),(l()(),t["\u0275and"](0,null,null,1,null,Jl)),t["\u0275did"](42,16384,[[2,4]],0,al.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](0,null,null,1,null,Xl)),t["\u0275did"](44,16384,[[2,4]],0,al.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](0,null,null,1,null,Yl)),t["\u0275did"](46,16384,[[2,4]],0,al.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null)],function(l,e){var n=e.component;l(e,2,0,n.matchTeam),l(e,39,0,!0,!0,null==n.teamDetail?null:n.teamDetail.teamMembers),l(e,42,0,"caption"),l(e,44,0,"header"),l(e,46,0,"body")},function(l,e){var n=e.component;l(e,8,0,null==n.teamDetail?null:n.teamDetail.teamName),l(e,12,0,null==n.teamDetail?null:n.teamDetail.teamLeader,null==n.teamDetail?null:n.teamDetail.teamLeaderUserID,null==n.teamDetail?null:n.teamDetail.teamLeaderTitle),l(e,16,0,null==n.teamDetail?null:n.teamDetail.teamStatus);var a=t["\u0275unv"](e,21,0,l(e,22,0,t["\u0275nov"](e.parent,0),null==n.teamDetail?null:n.teamDetail.updatedOn));l(e,21,0,a),l(e,26,0,null==n.teamDetail?null:n.teamDetail.updatedBy);var u=t["\u0275unv"](e,30,0,l(e,31,0,t["\u0275nov"](e.parent,0),null==n.teamDetail?null:n.teamDetail.createdOn));l(e,30,0,u),l(e,35,0,null==n.teamDetail?null:n.teamDetail.createdBy)})}function Ql(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function le(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ql)),t["\u0275did"](2,540672,null,0,h.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],function(l,e){l(e,2,0,t["\u0275nov"](e.parent,6))},null)}function ee(l){return t["\u0275vid"](0,[(l()(),t["\u0275ted"](-1,null,["Team Members"]))],null,null)}function ne(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Name"])),(l()(),t["\u0275eld"](3,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Number of Task Assignments"]))],null,null)}function te(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"tr",[["class","link"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onRowSelect(null==l.context.$implicit?null:l.context.$implicit.personEmployeeID)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""]))],null,function(l,e){var n=e.component;l(e,2,0,e.context.$implicit.fullName),l(e,4,0,(null==e.context.$implicit?null:e.context.$implicit.taskCount)+(null==n.teamDetail?null:n.teamDetail.taskCount))})}function ae(l){return t["\u0275vid"](0,[(l()(),t["\u0275ted"](-1,null,["Task Assignments"]))],null,null)}function ue(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,14,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Name"])),(l()(),t["\u0275eld"](3,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Title"])),(l()(),t["\u0275eld"](5,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Assignment Title"])),(l()(),t["\u0275eld"](7,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Task Category"])),(l()(),t["\u0275eld"](9,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["User Role"])),(l()(),t["\u0275eld"](11,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Work Type"])),(l()(),t["\u0275eld"](13,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Work Value"]))],null,null)}function ie(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["--"]))],null,null)}function re(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "]))],null,function(l,e){l(e,1,0,e.context.$implicit.taskResponsibilityTypeDescription)})}function se(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,re)),t["\u0275did"](2,278528,null,0,h.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,e){l(e,2,0,e.context.$implicit.taskAssignmentResponsibilityDetailDTOs)},null)}function oe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["--"]))],null,null)}function de(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "]))],null,function(l,e){l(e,1,0,e.context.$implicit.taskAssignmentResponsibilityDetailValueDesc)})}function me(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,de)),t["\u0275did"](2,278528,null,0,h.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](0,null,null,0))],function(l,e){l(e,2,0,e.context.$implicit.taskAssignmentResponsibilityDetailDTOs)},null)}function ce(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,20,"tr",[["class","link"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onTaskSelect(null==l.context.$implicit?null:l.context.$implicit.taskAssignmentID)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["",""])),(l()(),t["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),(l()(),t["\u0275eld"](5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275eld"](7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,["",""])),(l()(),t["\u0275eld"](9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](10,null,["",""])),(l()(),t["\u0275eld"](11,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ie)),t["\u0275did"](13,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,se)),t["\u0275did"](15,278528,null,0,h.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](16,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,oe)),t["\u0275did"](18,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,me)),t["\u0275did"](20,278528,null,0,h.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(l,e){l(e,13,0,!e.context.$implicit.taskAssignmentResponsibilityGroupDTOs.length),l(e,15,0,e.context.$implicit.taskAssignmentResponsibilityGroupDTOs),l(e,18,0,!e.context.$implicit.taskAssignmentResponsibilityGroupDTOs.length),l(e,20,0,e.context.$implicit.taskAssignmentResponsibilityGroupDTOs)},function(l,e){l(e,2,0,e.context.$implicit.personEmployeeID?e.context.$implicit.preferredName+" "+e.context.$implicit.lastName:e.context.$implicit.teamName),l(e,4,0,e.context.$implicit.personEmployeeID?e.context.$implicit.title:"--"),l(e,6,0,e.context.$implicit.taskAssignmentName),l(e,8,0,e.context.$implicit.taskGroupName),l(e,10,0,e.context.$implicit.roleTypeCode?e.context.$implicit.roleTypeCode:"--")})}function pe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","p-grid jds-pt-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"p-header",[],null,null,null,ol.d,ol.b)),t["\u0275did"](2,49152,null,0,al.Header,[],null,null),(l()(),t["\u0275eld"](3,0,null,0,1,"span",[["class","h2 jds-pl-3"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),(l()(),t["\u0275eld"](5,0,null,null,35,"div",[["class","p-grid"],["style","width: 100%;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,10,"div",[["class","p-col"],["style","font-size: 14px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,1,"span",[["class","field-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Team Leader"])),(l()(),t["\u0275eld"](10,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](11,null,[""," (",")"])),(l()(),t["\u0275eld"](12,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,1,"span",[["class","field-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Team Status"])),(l()(),t["\u0275eld"](15,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](16,null,["",""])),(l()(),t["\u0275eld"](17,0,null,null,11,"div",[["class","p-col"],["style","font-size: 14px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,1,"span",[["class","field-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Updated On"])),(l()(),t["\u0275eld"](21,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](22,null,["",""])),t["\u0275ppd"](23,1),(l()(),t["\u0275eld"](24,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,1,"span",[["class","field-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Updated By"])),(l()(),t["\u0275eld"](27,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](28,null,["",""])),(l()(),t["\u0275eld"](29,0,null,null,11,"div",[["class","p-col"],["style","font-size: 14px;"]],null,null,null,null,null)),(l()(),t["\u0275eld"](30,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](31,0,null,null,1,"span",[["class","field-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Created On"])),(l()(),t["\u0275eld"](33,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](34,null,["",""])),t["\u0275ppd"](35,1),(l()(),t["\u0275eld"](36,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),t["\u0275eld"](37,0,null,null,1,"span",[["class","field-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Created By"])),(l()(),t["\u0275eld"](39,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](40,null,["",""])),(l()(),t["\u0275eld"](41,0,null,null,10,"div",[["class","data-table"]],null,null,null,null,null)),(l()(),t["\u0275eld"](42,0,null,null,9,"p-table",[["class","ui-panel-table"],["title","Team Members"]],null,null,null,tl.h,tl.b)),t["\u0275prd"](512,null,nl.TableService,nl.TableService,[]),t["\u0275did"](44,5488640,null,1,nl.Table,[t.ElementRef,t.NgZone,nl.TableService,t.ChangeDetectorRef],{value:[0,"value"]},null),t["\u0275qud"](603979776,3,{templates:1}),(l()(),t["\u0275and"](0,null,null,1,null,ee)),t["\u0275did"](47,16384,[[3,4]],0,al.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](0,null,null,1,null,ne)),t["\u0275did"](49,16384,[[3,4]],0,al.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](0,null,null,1,null,te)),t["\u0275did"](51,16384,[[3,4]],0,al.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275eld"](52,0,null,null,10,"div",[["class","data-table"]],null,null,null,null,null)),(l()(),t["\u0275eld"](53,0,null,null,9,"p-table",[["title","Task Assignments"]],null,null,null,tl.h,tl.b)),t["\u0275prd"](512,null,nl.TableService,nl.TableService,[]),t["\u0275did"](55,5488640,null,1,nl.Table,[t.ElementRef,t.NgZone,nl.TableService,t.ChangeDetectorRef],{value:[0,"value"]},null),t["\u0275qud"](603979776,4,{templates:1}),(l()(),t["\u0275and"](0,null,null,1,null,ae)),t["\u0275did"](58,16384,[[4,4]],0,al.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](0,null,null,1,null,ue)),t["\u0275did"](60,16384,[[4,4]],0,al.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](0,null,null,1,null,ce)),t["\u0275did"](62,16384,[[4,4]],0,al.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null)],function(l,e){var n=e.component;l(e,44,0,null==n.teamDetail?null:n.teamDetail.teamMembers),l(e,47,0,"caption"),l(e,49,0,"header"),l(e,51,0,"body"),l(e,55,0,null==n.teamDetail?null:n.teamDetail.taskAssignments),l(e,58,0,"caption"),l(e,60,0,"header"),l(e,62,0,"body")},function(l,e){var n=e.component;l(e,4,0,null==n.teamDetail?null:n.teamDetail.teamName),l(e,11,0,null==n.teamDetail?null:n.teamDetail.teamLeader,null==n.teamDetail?null:n.teamDetail.teamLeaderUserID),l(e,16,0,null==n.teamDetail?null:n.teamDetail.teamStatus);var a=t["\u0275unv"](e,22,0,l(e,23,0,t["\u0275nov"](e.parent,0),null==n.teamDetail?null:n.teamDetail.updatedOn));l(e,22,0,a),l(e,28,0,null==n.teamDetail?null:n.teamDetail.updatedBy);var u=t["\u0275unv"](e,34,0,l(e,35,0,t["\u0275nov"](e.parent,0),null==n.teamDetail?null:n.teamDetail.createdOn));l(e,34,0,u),l(e,40,0,null==n.teamDetail?null:n.teamDetail.createdBy)})}function he(l){return t["\u0275vid"](0,[t["\u0275pid"](0,kl.a,[]),(l()(),t["\u0275and"](16777216,null,null,1,null,zl)),t["\u0275did"](2,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,[["teamDetails",2]],null,0,null,Zl)),(l()(),t["\u0275and"](16777216,null,null,1,null,le)),t["\u0275did"](5,16384,null,0,h.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,[["teamIdDetails",2]],null,0,null,pe))],function(l,e){var n=e.component;l(e,2,0,"profile"!==n.templateName),l(e,5,0,"profile"===n.templateName)},null)}function ge(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"team-management-detail",[],null,null,null,he,_l)),t["\u0275did"](1,245760,null,0,Al,[f.a,d.ConfirmationService,S.a,R.MessageService,M.a,p.ActivatedRoute,p.Router,D.n,ml.a],null,null)],function(l,e){l(e,1,0)},null)}var fe=t["\u0275ccf"]("team-management-detail",Al,ge,{teamID:"teamID",buttons:"buttons"},{close:"close",edit:"edit",fullScreen:"fullScreen"},[]),ve=n("IheW"),be=n("uxjv"),ye=n("OgP6"),Ce=n("urgD"),Te=n("KB/w"),Se=n("HQi4");const Me=(()=>{class l{constructor(l,e){this.userService=l,this.router=e}canActivate(l,e){return this.userService.isUserInRoles(B.e.ADMIN,B.j.CREATE_TEAMS)||this.router.createUrlTree(["error",403])}}return l.ngInjectableDef=t["\u0275\u0275defineInjectable"]({factory:function(){return new l(t["\u0275\u0275inject"](S.a),t["\u0275\u0275inject"](p.Router))},token:l,providedIn:"root"}),l})(),Ie=(()=>{class l{constructor(l,e){this.userService=l,this.router=e}canActivate(l,e){return this.userService.isUserInRoles(B.e.ADMIN,B.j.UPDATE_TEAMS)||this.router.createUrlTree(["error",403])}}return l.ngInjectableDef=t["\u0275\u0275defineInjectable"]({factory:function(){return new l(t["\u0275\u0275inject"](S.a),t["\u0275\u0275inject"](p.Router))},token:l,providedIn:"root"}),l})();class Re{}var De=n("Itiq"),Ne=n("T+K8"),we=n("iaQo"),Fe=n("IP0z"),Oe=n("/HVE"),xe=n("hOhj"),Ee=n("nciF"),Pe=n("mU/a"),Le=n("4WZM"),ke=n("bjBz"),Ae=n("66nc"),_e=n("pBcn"),Ve=n("EnwQ"),je=n("OPzY"),Be=n("PCNd"),$e=n("3GNW");const Ue={panelOpen:!1,selectedTeam:null,error:"",loading:!1};function qe(l=Ue,e){switch(e.type){case E.OpenRightPanel:return Object.assign({},l,{panelOpen:!0});case E.CloseRightPanel:return Object.assign({},l,{panelOpen:!1});case E.ClearSelectedTeam:return Object.assign({},l,{selectedTeam:null});case E.LoadSuccess:return Object.assign({},l,{selectedTeam:e.payload,error:"",loading:!1});case E.LoadFail:return Object.assign({},l,{selectedTeam:null,error:e.payload,loading:!1});case E.LoadSelectedTeam:return Object.assign({},l,{loading:!0});default:return l}}var Ge=n("mrSG"),He=n("Yml6"),Ke=n("LRne"),ze=n("HDdC"),We=n("5+tZ"),Je=n("JIr8");const Xe=(()=>{class l{constructor(l,e){this.teamManagementService=l,this.actions$=e,this.loadSelectedTeam$=this.actions$.pipe(Object(He.d)(E.LoadSelectedTeam),Object(C.a)(l=>l.payload),Object(We.a)(l=>this.teamManagementService.getTeamDetails(l).pipe(Object(C.a)(l=>new _(l)),Object(Je.a)(l=>Object(Ke.a)(new V(l))))))}}return Object(Ge.__decorate)([Object(He.b)(),Object(Ge.__metadata)("design:type",ze.a)],l.prototype,"loadSelectedTeam$",void 0),l})();var Ye=t["\u0275cmf"](a,[],function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[u.a,X,El,fe]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,h.NgLocalization,h.NgLocaleLocalization,[t.LOCALE_ID,[2,h["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,ve.j,ve.p,[h.DOCUMENT,t.PLATFORM_ID,ve.n]),t["\u0275mpd"](4608,ve.q,ve.q,[ve.j,ve.o]),t["\u0275mpd"](5120,ve.a,function(l,e){return[l,new be.c(e)]},[ve.q,be.d]),t["\u0275mpd"](4608,el["\u0275angular_packages_forms_forms_o"],el["\u0275angular_packages_forms_forms_o"],[]),t["\u0275mpd"](4608,el.FormBuilder,el.FormBuilder,[]),t["\u0275mpd"](4608,v.a,v.a,[ve.c,ml.a,ye.a]),t["\u0275mpd"](4608,Ce.a,Ce.a,[]),t["\u0275mpd"](1073742336,h.CommonModule,h.CommonModule,[]),t["\u0275mpd"](1073742336,ve.e,ve.e,[]),t["\u0275mpd"](1073742336,ve.d,ve.d,[]),t["\u0275mpd"](1073742336,dl.InputTextModule,dl.InputTextModule,[]),t["\u0275mpd"](1073742336,il.ButtonModule,il.ButtonModule,[]),t["\u0275mpd"](1073742336,al.SharedModule,al.SharedModule,[]),t["\u0275mpd"](1073742336,ll.AutoCompleteModule,ll.AutoCompleteModule,[]),t["\u0275mpd"](1073742336,Te.CalendarModule,Te.CalendarModule,[]),t["\u0275mpd"](1073742336,Se.OverlayPanelModule,Se.OverlayPanelModule,[]),t["\u0275mpd"](1073742336,p.RouterModule,p.RouterModule,[[2,p["\u0275angular_packages_router_router_a"]],[2,p.Router]]),t["\u0275mpd"](1073742336,Re,Re,[]),t["\u0275mpd"](1073742336,De.AccordionModule,De.AccordionModule,[]),t["\u0275mpd"](1073742336,Ne.CheckboxModule,Ne.CheckboxModule,[]),t["\u0275mpd"](1073742336,we.MenuModule,we.MenuModule,[]),t["\u0275mpd"](1073742336,Fe.a,Fe.a,[]),t["\u0275mpd"](1073742336,Oe.b,Oe.b,[]),t["\u0275mpd"](1073742336,xe.ScrollingModule,xe.ScrollingModule,[]),t["\u0275mpd"](1073742336,Ee.DropdownModule,Ee.DropdownModule,[]),t["\u0275mpd"](1073742336,el["\u0275angular_packages_forms_forms_d"],el["\u0275angular_packages_forms_forms_d"],[]),t["\u0275mpd"](1073742336,el.FormsModule,el.FormsModule,[]),t["\u0275mpd"](1073742336,Pe.PaginatorModule,Pe.PaginatorModule,[]),t["\u0275mpd"](1073742336,sl.PanelModule,sl.PanelModule,[]),t["\u0275mpd"](1073742336,nl.TableModule,nl.TableModule,[]),t["\u0275mpd"](1073742336,Le.CardModule,Le.CardModule,[]),t["\u0275mpd"](1073742336,ke.InputSwitchModule,ke.InputSwitchModule,[]),t["\u0275mpd"](1073742336,el.ReactiveFormsModule,el.ReactiveFormsModule,[]),t["\u0275mpd"](1073742336,Ae.DialogModule,Ae.DialogModule,[]),t["\u0275mpd"](1073742336,_e.OrderListModule,_e.OrderListModule,[]),t["\u0275mpd"](1073742336,Ve.a,Ve.a,[]),t["\u0275mpd"](1073742336,je.ContextMenuModule,je.ContextMenuModule,[]),t["\u0275mpd"](1073742336,Be.a,Be.a,[]),t["\u0275mpd"](1073742336,r.ProgressSpinnerModule,r.ProgressSpinnerModule,[]),t["\u0275mpd"](1073742336,$e.ConfirmDialogModule,$e.ConfirmDialogModule,[]),t["\u0275mpd"](1073742336,Z.MessageModule,Z.MessageModule,[]),t["\u0275mpd"](1073742336,Ll.MessagesModule,Ll.MessagesModule,[]),t["\u0275mpd"](1024,D.F,function(){return[{}]},[]),t["\u0275mpd"](1024,D.j,function(){return[{key:"teamManagementState",reducerFactory:D.z,metaReducers:[],initialState:void 0}]},[]),t["\u0275mpd"](1024,D.G,D.H,[t.Injector,D.F,D.j]),t["\u0275mpd"](1024,D.q,function(){return[qe]},[]),t["\u0275mpd"](1024,D.r,function(l){return[l]},[D.q]),t["\u0275mpd"](1024,D.b,function(l,e,n){return[D.w(l,e,n)]},[t.Injector,D.q,D.r]),t["\u0275mpd"](1073873408,D.o,D.o,[D.G,D.b,D.g,D.p]),t["\u0275mpd"](512,ve.m,ve.m,[]),t["\u0275mpd"](2048,ve.k,null,[ve.m]),t["\u0275mpd"](512,ve.i,ve.i,[ve.k]),t["\u0275mpd"](2048,ve.b,null,[ve.i]),t["\u0275mpd"](512,ve.f,ve.l,[ve.b,t.Injector]),t["\u0275mpd"](512,ve.c,ve.c,[ve.f]),t["\u0275mpd"](512,f.a,f.a,[ve.c]),t["\u0275mpd"](512,Xe,Xe,[f.a,He.a]),t["\u0275mpd"](1024,He.i,function(l){return[He.e(l)]},[Xe]),t["\u0275mpd"](1073742336,He.g,He.g,[He.f,He.i,[2,D.p],[2,D.o]]),t["\u0275mpd"](1073742336,a,a,[]),t["\u0275mpd"](256,ve.n,"XSRF-TOKEN",[]),t["\u0275mpd"](256,ve.o,"X-XSRF-TOKEN",[]),t["\u0275mpd"](1024,p.ROUTES,function(){return[[{path:"",component:$,children:[{path:"add",component:hl,canDeactivate:[Ce.a],canActivate:[Me]},{path:":id",component:Al},{path:":id/edit",component:hl,canDeactivate:[Ce.a],canActivate:[Ie]}]},{path:":id/:templateName",component:Al}]]},[])])})},qtlX:function(l,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return d});var t=n("8Y7J"),a=(n("fBTL"),n("SVse")),u=(n("7LN8"),t["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"panelContent",definitions:[{type:0,name:"hidden",styles:{type:6,styles:{height:"0",opacity:0},offset:null},options:void 0},{type:0,name:"void",styles:{type:6,styles:{height:"{{height}}",opacity:"{{opacity}}"},offset:null},options:{params:{height:"0",opacity:"0"}}},{type:0,name:"visible",styles:{type:6,styles:{height:"*",opacity:1},offset:null},options:void 0},{type:1,expr:"visible <=> hidden",animation:{type:4,styles:null,timings:"{{transitionParams}}"},options:null},{type:1,expr:"void => hidden",animation:{type:4,styles:null,timings:"{{transitionParams}}"},options:null},{type:1,expr:"void => visible",animation:{type:4,styles:null,timings:"{{transitionParams}}"},options:null}],options:{}}]}}));function i(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","ui-panel-title"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""]))],null,function(l,e){l(e,1,0,e.component.header)})}function r(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"a",[["class","ui-panel-titlebar-icon ui-panel-titlebar-toggler ui-corner-all ui-state-default"],["role","tab"],["tabindex","0"]],[[1,"id",0],[1,"aria-controls",0],[1,"aria-expanded",0]],[[null,"click"],[null,"keydown.enter"]],function(l,e,n){var t=!0,a=l.component;return"click"===e&&(t=!1!==a.onIconClick(n)&&t),"keydown.enter"===e&&(t=!1!==a.onIconClick(n)&&t),t},null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"span",[],[[8,"className",0]],null,null,null,null))],null,function(l,e){var n=e.component;l(e,0,0,n.id+"-label",n.id+"-content",!n.collapsed),l(e,1,0,n.collapsed?n.expandIcon:n.collapseIcon)})}function s(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"div",[],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.onHeaderClick(n)&&t),t},null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275pod"](3,{"ui-panel-titlebar ui-widget-header ui-helper-clearfix ui-corner-all":0,"ui-panel-titlebar-clickable":1}),(l()(),t["\u0275and"](16777216,null,null,1,null,i)),t["\u0275did"](5,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275ncd"](null,0),(l()(),t["\u0275and"](16777216,null,null,1,null,r)),t["\u0275did"](8,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component,t=l(e,3,0,!0,n.toggleable&&"header"===n.toggler);l(e,2,0,t),l(e,5,0,n.header),l(e,8,0,n.toggleable)},null)}function o(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","ui-panel-footer ui-widget-content"]],null,null,null,null,null)),t["\u0275ncd"](null,2)],null,null)}function d(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,18,"div",[],[[1,"id",0]],null,null,null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275prd"](512,null,a["\u0275NgStyleImpl"],a["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](4,278528,null,0,a.NgStyle,[a["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,s)),t["\u0275did"](6,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](7,0,null,null,11,"div",[["class","ui-panel-content-wrapper"],["role","region"]],[[1,"id",0],[24,"@panelContent",0],[1,"aria-hidden",0],[1,"aria-labelledby",0]],[[null,"@panelContent.done"]],function(l,e,n){var t=!0;return"@panelContent.done"===e&&(t=!1!==l.component.onToggleDone(n)&&t),t},null,null)),t["\u0275prd"](512,null,a["\u0275NgClassImpl"],a["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](9,278528,null,0,a.NgClass,[a["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](10,{"ui-panel-content-wrapper-overflown":0}),t["\u0275pod"](11,{transitionParams:0,height:1,opacity:2}),t["\u0275pod"](12,{value:0,params:1}),t["\u0275pod"](13,{transitionParams:0,height:1,opacity:2}),t["\u0275pod"](14,{value:0,params:1}),(l()(),t["\u0275eld"](15,0,null,null,1,"div",[["class","ui-panel-content ui-widget-content"]],null,null,null,null,null)),t["\u0275ncd"](null,1),(l()(),t["\u0275and"](16777216,null,null,1,null,o)),t["\u0275did"](18,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,e){var n=e.component;l(e,2,0,n.styleClass,"ui-panel ui-widget ui-widget-content ui-corner-all"),l(e,4,0,n.style),l(e,6,0,n.showHeader);var t=l(e,10,0,n.collapsed||n.animating);l(e,9,0,"ui-panel-content-wrapper",t),l(e,18,0,n.footerFacet)},function(l,e){var n=e.component;l(e,0,0,n.id);var t=n.id+"-content",a=n.collapsed?l(e,12,0,"hidden",l(e,11,0,n.animating?n.transitionOptions:"0ms","0","0")):l(e,14,0,"visible",l(e,13,0,n.animating?n.transitionOptions:"0ms","*","1"));l(e,7,0,t,a,n.collapsed,n.id+"-label")})}}}]);